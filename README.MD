# CPSC Recall Widget

 Legacy widget written in VB.NET. It parses the RSS feed from CPSC.gov's Drupal engine to display recalls and children recalls. It also integrates with the Lyris listserv engine to help the consumers of the Widget register for email notifications via the listserv.

The widget can be found here: https://cpsc.gov/Newsroom/Downloadable-Data/widgets

## Structure & Process 

The widget is structured to display all recalls and children recalls specifically.
Both categories are generated by the Drupal engine from cpsc.gov in RSS feed format from the paths:
#### Children:
    https://cpsc.gov/Newsroom/CPSC-RSS-Feed/Recalls-RSS/children
#### All Recalls:
    https://cpsc.gov/Newsroom/CPSC-RSS-Feed/Recalls-RSS/recalls-rss

The RSS feed is consumed by a `Powershell` script `.psGetXmlSource.ps1` which writes the raw XML of each recall category in 2 separate files (Recalls-Children-RSS.xml & Recalls-RSS.xml) at the root directory.

Two server side `.aspx` files  (cpsrss.aspx and childrss.aspx) are set up to read the raw XML data located at the root of the directory (`Recalls-Children-RSS.xml` & `Recalls-RSS.xml`).

The rendered HTML is embedded in two `javascript` files (`cpsrss.js` & `childrss.js`). This allows website content authors or developers to add the widget by referening the javascript files in an iframe.
Users can embed the following code snipet on their page to render the Recalls widget:

```html
<script type="text/javascript" src="https://cpsc.gov/cgi-bin/javascripts/cpscrss.js"></script> <noscript> <iframe src="https://cpsc.gov/cgi-bin/javascripts/cpscrss.js" name="rssframe" frameborder=0 id="rssframe" scrolling="no" height="160" width="198" marginheight="0" title="CPSC's Recall RSS feed and subscription widget" marginwidth="0" >Product Safety Recall Info</iframe> </noscript>
```




 
